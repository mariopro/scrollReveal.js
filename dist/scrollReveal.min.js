!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.scrollReveal=t()}(this,function(){return window.scrollReveal=function(e){"use strict";function t(e){n=this,n.data={},n.elems=[],n.serial=1,n.config=n.extend(n.defaults,e),n.docElem=n.config.elem,(!n.checkMobile()||n.config.mobile)&&1==n.config.init&&n.init()}var i,r,n;return t.prototype={defaults:{after:"0s",enter:"top",move:"0",over:"0.5s",easing:"ease-out",opacity:0,mobile:!1,viewportFactor:.33,reset:!1,init:!0,elem:e.document.documentElement},init:function(){var t;n.elems=Array.prototype.slice.call(n.docElem.querySelectorAll("[data-sr]")),n.elems.forEach(function(i){t=i.getAttribute("data-sr-id"),t||(t=n.serial++,n.data[t]={},n.data[t].id=t,i.setAttribute("data-sr-id",t),n.data[t].style||(n.data[t].style=i.getAttribute("style"),n.data[t].style?n.data[t].style+="":n.data[t].style=""),e.addEventListener("scroll",r,!1),e.addEventListener("resize",r,!1))}),n.eventBlocked=!1,n.animate()},animate:function(){n.elems.forEach(function(e){var t,i;if(!e.getAttribute("data-sr-complete")&&(t=e.getAttribute("data-sr-id"))){if(i=n.data[t],i.css||(i.css=n.createStyles(e,i)),e.getAttribute("data-sr-initialized")||(e.setAttribute("style",i.style+i.css.initial),e.setAttribute("data-sr-initialized",!0)),!n.isElementInViewport(e,n.config.viewportFactor))return void(i.reset&&e.setAttribute("style",i.style+i.css.initial+i.css.reset));if(n.isElementInViewport(e,n.config.viewportFactor))return e.setAttribute("style",i.style+i.css.target+i.css.transition),void(i.reset||setTimeout(function(){""!==i.style?e.setAttribute("style",i.style):e.removeAttribute("style"),e.setAttribute("data-sr-complete",!0)},i.css.totalDuration))}}),n.eventBlocked=!1},parse:function(e){var t=e.getAttribute("data-sr").split(/[, ]+/),i={};return t=n.filter(t),t.forEach(function(e,r){switch(e){case"enter":return void(i.enter=t[r+1]);case"after":return void(i.after=t[r+1]);case"wait":return void(i.after=t[r+1]);case"move":return void(i.move=t[r+1]);case"ease":return i.move=t[r+1],void(i.ease="ease");case"ease-in":return i.move=t[r+1],void(i.easing="ease-in");case"ease-in-out":return i.move=t[r+1],void(i.easing="ease-in-out");case"ease-out":return i.move=t[r+1],void(i.easing="ease-out");case"over":return void(i.over=t[r+1]);case"reset":return void(i.reset="no"==t[r-1]?!1:!0);default:return}}),"undefined"==typeof i.reset&&null!=i.reset&&(i.reset=n.config.reset),i},createStyles:function(e,t){var i,r,o,a,s,c,f,l,u,d,m,v;return i=n.parse(e),t.reset=i.reset,i.enter?(("top"==i.enter||"bottom"==i.enter)&&(r=i.enter,o="y"),("left"==i.enter||"right"==i.enter)&&(r=i.enter,o="x")):(("top"==n.config.enter||"bottom"==n.config.enter)&&(r=n.config.enter,o="y"),("left"==n.config.enter||"right"==n.config.enter)&&(r=n.config.enter,o="x")),("top"==r||"left"==r)&&(i.move=i.move?"-"+i.move:"-"+n.config.move),a=i.move||n.config.move,s=i.over||n.config.over,c=i.after||n.config.after,f=i.easing||n.config.easing,l=i.opacity||n.config.opacity,u="-webkit-transition: -webkit-transform "+s+" "+f+" "+c+",  opacity "+s+" "+f+" "+c+";transition: transform "+s+" "+f+" "+c+", opacity "+s+" "+f+" "+c+";-webkit-perspective: 1000;-webkit-backface-visibility: hidden;",d="-webkit-transition: -webkit-transform "+s+" "+f+" 0s,  opacity "+s+" "+f+" "+c+";transition: transform "+s+" "+f+" 0s,  opacity "+s+" "+f+" "+c+";-webkit-perspective: 1000;-webkit-backface-visibility: hidden;",m="-webkit-transform: translate"+o+"("+a+");transform: translate"+o+"("+a+");opacity: "+l+";",v="-webkit-transform: translate"+o+"(0);transform: translate"+o+"(0);opacity: 1;",{transition:u,initial:m,target:v,reset:d,totalDuration:1e3*(parseFloat(s)+parseFloat(c))}},filter:function(e){var t=[],i=[];return i=["a","and","but","from","the","then","with"],e.forEach(function(e){i.indexOf(e)>-1||t.push(e)}),t},getViewportH:function(){var t=n.docElem.clientHeight,i=e.innerHeight;return n.docElem==e.document.documentElement&&i>t?i:t},getOffset:function(e){var t=0,i=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(i+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:i}},isElementInViewport:function(t,i){if(n.docElem==e.document.documentElement)var r=e.pageYOffset;else var r=n.docElem.scrollTop+n.docElem.offsetTop;var o=t.offsetHeight,a=n.getOffset(t).top,s=a+o,c=r+n.getViewportH(),i=i||0;return c>=a+o*i&&s>=r||"fixed"==(t.currentStyle?t.currentStyle:e.getComputedStyle(t,null)).position},checkMobile:function(){var e=!1;return e},extend:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},i=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(),r=function(){n.eventBlocked||(n.eventBlocked=!0,i(function(){n.animate()}))},t}(window),scrollReveal});